<% layout('layouts/util-wchat') %>

<h1>Sticker Pack Manager</h1>

<h2 class="text-2xl font-bold mb-4 text-center">Add New Sticker Pack</h2>
<form action="/admin/stickers" method="POST" class="w-full">
    <div class="">
        <div class="mb-4">
            <label for="name" class="block text-gray-700">Name:</label>
            <input type="text" name="name" id="name" required 
                class="w-full border px-4 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400">
        </div>
        <div class="mb-4">
            <label for="description" class="block text-gray-700">Description:</label>
            <textarea name="description" id="description" 
                    class="w-full border px-4 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"></textarea>
        </div>
        <div class="mb-4">
            <label for="coverImage" class="block text-gray-700">Cover Image URL:</label>
            <input type="text" name="coverImage" id="coverImage" required 
                class="w-full border px-4 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400">
        </div>
        <div class="mb-4">
            <label class="inline-flex items-center">
            <input type="checkbox" name="isPublic" class="form-checkbox" checked>
            <span class="ml-2">Public Sticker Pack</span>
            </label>
        </div>
    </div>
  <!-- N·∫øu mu·ªën h·ªó tr·ª£ th√™m stickers ngay trong l√∫c t·∫°o m·ªõi, b·∫°n c√≥ th·ªÉ th√™m m·ªôt textarea ch·ª©a JSON ho·∫∑c t√≠ch h·ª£p UI ri√™ng -->
  <button type="submit" class="w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">
    Add Sticker Pack
  </button>
</form>

<h2>Sticker Packs</h2>
<% packs.forEach(pack => { %>
    <div>
        <h3><%= pack.name %></h3>
        <img crossorigin="anonymous" src="<%= pack.coverImage %>" width="120" />
        <p><%= pack.description %></p>
        <ul>
        <% packs.forEach(pack => { %>
            <li>
            <h3><%= pack.name %></h3>
            <img src="<%= pack.coverImage %>" style="width:100px" />
            <br />
            <a href="/admin/stickers/edit/<%= pack._id %>">‚úè Edit</a>
            <form method="POST" action="/admin/stickers/<%= pack._id %>?_method=DELETE" style="display:inline">
                <button type="submit">üóë Delete</button>
            </form>
            </li>
        <% }) %>
        </ul>

    </div>
<% }) %>
